# Курсовой проект "Моделирование системы массового обслуживания" по дисциплине «Архитектура программных систем» 5 семестр

## Цель работы
Целью курсовой работы является создание модели вычислительной системы (ВС) или ее компонентов на некотором уровне детализации, описывающей и имитирующей ее структуру и функциональность.

Имитационное моделирование — это метод исследования, при котором изучаемая система заменяется моделью, с достаточной точностью описывающей реальную систему и с ней проводятся эксперименты с целью получения информации об этой системе.

Одним из подходов к построению имитационной модели является построение ее в виде системы массового обслуживания (СМО), с характерной для СМО терминологией:
*	Источник (И);
*	Буфер (БП);
*	Прибор (П);
*	Диспетчер (Д);
*	Заявка (требование).

![СМО](/readme_img/SMO.png)

## Постановка задачи

### Источники: 
* ИБ — бесконечный источник; 
* И31 — пуассоновский закон распределения

### Приборы: 
* П32 — равномерный закон распределения времени обслуживания

### Буферизация и постановка на обслуживание: 

Буферизация:
* Д1032 — запись в буфер в порядке поступления заявок
* Д1002 — приоритет по номеру источника;

Постановка на обслуживание: 
* Д2П1 — приоритет по номеру прибора;
* Д2Б5 — приоритет по номеру источника, заявки в пакете;

Дисциплина отказа:
* Д1005 – вновь поступившая заявка, не нашедшая места в буфере

### Виды отображения результатов работы программной модели:

Динамическое отражение результатов: 
* ОД2 — динамическое отражение результатов: формализованная схема модели, текущее состояние; 
* ОР1 — сводная таблица результатов.

### Ограничения и требуемые характеристики 
* Вероятность отказа должна составлять не более 10 % 
* Загрузка приборов более 90 %

## Структура
Проект разрабатывался в среде IntelliJ IDEA на языке Java с использованием графической библиотеки JavaFx.
Приложение является объектно-ориентированным и содержит следующие классы:
*	Request - заявка в системе. Содержит информацию об источнике, номере заявки в источнике и моментах времени прихода/ухода для всех компонентов системы.
*	Source - источник заявок. Содержит информацию об источнике.
*	SourceController - диспетчер генерации заявок. Отвечает за массив источников, работающих в системе.
*	Buffer - буфера. Содержит массив заявок и методы, отвечающие за проверку заполненности буфера.
*	BufferManager – реализация поведения буфера в соответствии с вариантом.
*	Device - прибор для обработки заявок. Отвечает за выполнение очередной заявки. 
*	ServiceManager - диспетчер постановки на прибор. Отвечает за массив приборов в системе. 
*	Modelling – отвечает за исполнение системы и установку параметров по умолчанию.
*	Snapshot - содержит информацию о текущем состоянии системы;
*	CollectedInformation – класс, отвечающий за сбор статистики для отображения.
*	DeviceData - содержит статистику приборов. Вспомогательный класс для CollectedInformation, для автоматического отображения;
*	SourceData - содержит статистику источников. Вспомогательный класс для CollectedInformation, для автоматического отображения;
*	Main - точка входа в программу, которая также реализует графический интерфейс при помощи контроллеров :
1. AutoModeFormController  
2. MenuFormController   
3. SettingsFormController  
4. StepModelFormController

## Предметная область

Для домена системы была выбрана парикмахерская. Пусть владелец заключил договор с несколькими крупными предприятиями. Каждый день в определенный промежуток времени обслуживаются только работники с предприятий. Таким образом источники – это предприятия, от которых приходят работники(заявки). Соответственно пакет заявок – это работники с одного предприятия. Буфер – это комната ожидания в парикмахерской, и если она переполнена, вновь прибывший клиент уходит. Приборы – это мастера с разной квалификацией (чем выше квалификация, тем выше скорость обслуживания). 

Целью моделирования является выбор конфигурации системы, требующей, чтобы парикмахерская теряла не более 10% клиентов от общего числа пришедших и каждый мастер был загружен на более чем 90%. Необходимо определить наименьшее количество мастеров, успевающих обслужить максимальное количество клиентов.

## Описание работы программы

При запуске программы появляется следующее окно, в котором осуществляется навигация по СМО.

![СМО](/readme_img/screen1.jpg)

В автоматическом режиме программа собирает данные о работе системы, обрабатывает их и предоставляет результаты в виде итоговых таблиц:

![СМО](/readme_img/screen2.png)

В пошаговом режиме предусмотрена возможность последовательно посмотреть на работу системы, переходя на шаг вперед/назад или вводя необходимый номер шага.

![СМО](/readme_img/screen3.png)

При переходе в «Настройки» появляется окно, в котором необходимо задать параметры для СМО, такие как количество источников, размер буфера, количество приборов и количество заявок, которые необходимо сгенерировать и обработать. При нажатии кнопки «Сохранить» параметры сохраняются и пользователь переходит в меню.

![СМО](/readme_img/screen4.png)

## Результаты работы

В результате получено, что в большинстве случаев для достижения заданной точности моделирования необходимо около 4000-4500 заявок. Для достижения точности в 10% может потребоваться существенно больше заявок (40000-50000).

Основываясь на полученных данных, можно сделать вывод, что оптимальный вариант решения поставленной задачи следующий: для 6 предприятий владелец парикмахерской должен выделить 15 мастеров и комнату ожидания, где поместится 16 человек. То есть получили соотношение 6:15:16.

Очевидно, что более эффективные мастера требуют соответствующей оплаты, при этом они будут больше бездействовать. Поэтому при данной конфигурацию владельцу невыгодно отправлять мастеров на курсы повышения квалификации (за которые так же придется заплатить условную сумму).

С другой стороны, нерационально заменять текущих мастеров более эффективными, при этом уменьшив их количество, так как из-за такого решения, вероятнее всего, загруженность снизится и увеличится вероятность отказа:

В качестве решения можно было бы предложить увеличить размер комнаты ожидания. Это немного улучшило бы ситуацию: загруженность выросла бы до 85%, а вероятность отказа снизилась бы до 8%. 
